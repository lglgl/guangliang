
### 密码复杂度
vi /etc/pam.d/system-auth
```shell

password    requisite     pam_pwquality.so dcredit=-1 lcredit=-1 ucredit=-1 ocredit=-1 minlen=8 try_first_pass local_users_only retry=10 authtok_type='设置账号（要求：大小写+特殊字符+数字>8位）'

dcredit=-1 lcredit=-1 ucredit=-1 ocredit=-1 minlen=8

retry=5      定义登录、或修改密码失败后，可以重复的次数
type=        选项，定义用户修改密码时的提示内容，一般不管
dcredit=-1   至少一个数字
lcredit=-1   至少一个小写
ucredit=-1   至少一个大写
ocredit=-1   至少一个特殊字符
minlen=8     密码最短长度为5位
remember=5   不能重复使用前5次使用过的密码

```
验证
[root@idszt-node005 ~]# vi /etc/pam.d/system-auth
[root@idszt-node005 ~]# passwd idszt
更改用户 idszt 的密码 。
新的 '设置密码要求：大小写+特殊字符+数字' 密码：


### 系统日志保存时间
vi /etc/logrotate.conf
```shell
# see "man logrotate" for details
# rotate log files weekly
weekly

# keep 4 weeks worth of backlogs
# 保存6个月
rotate 24

# create new (empty) log files after rotating old ones
create

# use date as a suffix of the rotated file
dateext

# uncomment this if you want your log files compressed
#compress

# RPM packages drop log rotation information into this directory
include /etc/logrotate.d

# no packages own wtmp and btmp -- we'll rotate them here
# 保存6个月
/var/log/wtmp {
    monthly
    create 0664 root utmp
        minsize 1M
    rotate 6
}
# 保存6个月
/var/log/btmp {
    missingok
    monthly
    create 0600 root utmp
    rotate 6
}

# system-specific logs may be also be configured here.


```
service rsyslog restart

### MySQL审计
### 开启
set global general_log=on
### 检查
show variables like '%general_log%'


自查结果反馈：
1、46关于Redis远程代码执行漏洞：部署的Redis版本不在风险列表（当前redis版本为:7.0.11）
2、68Linux Kernel TIPC 远程代码执行漏洞：版本不在风险列表（Linux version 3.10.0）
3、111关于XXL-JOB未授权远程命令执行漏洞：版本不在风险列表（当前XXL-JOB版本为：2.3.1）
4、Jackson-databind漏洞：版本不在风险列表（当前Jackson版本为：2.13.1）


